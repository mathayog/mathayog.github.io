<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <link rel="stylesheet" href="../assets/css/app.css" />
        <link rel="stylesheet" href="../assets/css/nav-bar.css" />
        <link rel="stylesheet" href="../assets/css/welcome-page.css" />
        <link rel="stylesheet" href="../assets/css/selection-page.css" />
        <link rel="stylesheet" href="../assets/css/placement-page.css" />

        <link
            rel="icon"
            href="../assets/images/icons/mathayog_logo.ico"
            type="image/x-icon"
        />
        <title>Mathayog</title>

        <style>
            /* CSS to style your slide-up div */
            .slide-up {
                display: flex;
                align-items: baseline;
                justify-content: flex-end;

                position: fixed;
                bottom: 0; /* Initially at the bottom of the screen */
                left: 0;

                height: 8rem;
                width: 100%;
                background-color: #ffffff;
                transform: translateY(
                    100%
                ); /* Initially hidden below the screen */
                transition: transform 0.5s ease-in-out; /* Adjust the duration and easing as needed */

                box-shadow: 0px -5px 15px rgba(0, 0, 0, 0.1);
                padding: 1rem;
                z-index: 999; /* Adjust the z-index as needed */
            }

            .card-selected {
                border: 0.5rem solid #859cff;
                box-shadow: 15px 15px 0px rgba(0, 0, 0, 0.07);
            }

            .grayscale {
                filter: grayscale(100%);
            }
        </style>
    </head>

    <body>
        <div id="app">
            <nav class="navbar">
                <div class="navContainer">
                    <div class="logoSection">
                        <img
                            src="../assets/images/svgs/mathayog_logo.svg"
                            alt="mathayog icon"
                            id="logoIcon"
                        />
                        <p>Mathayog</p>
                    </div>

                    <div class="userSection"></div>
                </div>
            </nav>

            <main class="main-container" id="root">
                <div class="selection-container">
                    <div class="pet-selection-container">
                        <div class="pet-title-section">
                            <img
                                src="../assets/images/svgs/selection_user_icon.svg"
                                alt="selectionUserIcon"
                                class="selection-user-icon"
                            />
                            <div class="pet-bubble">
                                <h3 class="avatar-bubble-title">
                                    Choose your Avatar!
                                </h3>
                            </div>
                            <div class="pet-bubble-tail"></div>
                        </div>
                        <div class="pet-content-section">
                            <div
                                class="pet-card"
                                id="pet-card1"
                                onclick="showSlideUp(1)"
                            >
                                <div class="pet-img-frame">
                                    <img
                                        src="../assets/images/svgs/avatar1.svg"
                                        alt="avatar1"
                                        class="pet-img"
                                    />
                                </div>
                            </div>

                            <div
                                class="pet-card"
                                id="pet-card2"
                                onclick="showSlideUp(2)"
                            >
                                <div class="pet-img-frame">
                                    <img
                                        src="../assets/images/svgs/avatar2.svg"
                                        alt="avatar2"
                                        class="pet-img"
                                    />
                                </div>
                            </div>

                            <div
                                class="pet-card"
                                id="pet-card3"
                                onclick="showSlideUp(3)"
                            >
                                <div class="pet-img-frame">
                                    <img
                                        src="../assets/images/svgs/avatar3.svg"
                                        alt="avatar3"
                                        class="pet-img"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pop-up slide-up" id="slide-up">
                    <a href="../companion/index.html">
                        <button
                            id="next-button"
                            class="btn"
                            style="width: 22rem; height: 5rem; margin-right: 8rem"
                        >
                            Next
                        </button>
                    </a>
                </div>
            </main>
        </div>
    </body>
    <script>
        function showSlideUp(selectedCard) {
            const slideUp = document.getElementById("slide-up");
            slideUp.style.transform = "translateY(0%)"; // Slide it up

            // Remove both classes from all pet cards
            document.querySelectorAll(".pet-card").forEach((card) => {
                card.classList.remove("grayscale");
                card.classList.remove("card-selected");
            });

            // Add the 'grayscale' class to unselected pet cards
            document.querySelectorAll(".pet-card").forEach((card) => {
                if (card.id !== `pet-card${selectedCard}`) {
                    card.classList.add("grayscale");
                }
            });

            // Add the 'card-selected' class to the selected pet-card
            const selectedPetCard = document.getElementById(
                `pet-card${selectedCard}`
            );
            selectedPetCard.classList.add("card-selected");
        }

        function hideSlideUp() {
            const slideUp = document.getElementById("slide-up");
            slideUp.style.transform = "translateY(100%)"; // Slide it down to hide

            // Remove the 'grayscale' class from all pet-card elements
            document.querySelectorAll(".pet-card").forEach((card) => {
                card.classList.remove("grayscale");
                card.classList.remove("card-selected");
            });
        }

        function navigateToNextPage() {
            // Replace the URL with the desired URL
            window.location.href =
                "https://daoistfullstackapps.github.io/edukTasks/companion";
        }
        // Add an event listener to the document to handle clicks
        document.addEventListener("click", function (event) {
            // Check if the clicked element is not a pet card or the pop-up
            if (
                event.target.id == "slide-up" &&
                event.target.id !== "next-button"
            ) {
                hideSlideUp(); // Hide the pop-up
            }
        });
    </script>
</html>
